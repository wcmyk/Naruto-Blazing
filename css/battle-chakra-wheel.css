/* ===================================================
   CHAKRA WHEEL SYSTEM - Complete Visual Specification
   =================================================== */

/* === Chakra Wheel Base (Circular Frame) === */
.chakra-wheel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: all;
  cursor: pointer;
  z-index: 5;
  border-radius: 50%;
}

/* Active portrait - large wheel (110px for 90px portrait) */
.active-portrait-container .chakra-wheel {
  width: 110px;
  height: 110px;
}

/* Bench portrait - smaller wheel (45px for 36px portrait, 40% of 90px) */
.bench-portrait-container .chakra-wheel {
  width: 48px;
  height: 48px;
}

/* === Chakra Ring Layer Container === */
.chakra-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  pointer-events: none;
}

/* Ring sizing - each layer expands outward */
.chakra-ring.layer-1 {
  /* First ring - brightest, base layer (4 chakra max) */
  width: 100%;
  height: 100%;
}

.chakra-ring.layer-2 {
  /* Second ring - slightly darker (5-8 chakra) */
  width: 115%;
  height: 115%;
}

.chakra-ring.layer-3 {
  /* Third ring - noticeably darker (9-12 chakra) */
  width: 130%;
  height: 130%;
}

.chakra-ring.layer-4 {
  /* Fourth ring - final layer, turns red when full */
  width: 145%;
  height: 145%;
}

/* === Chakra Arc Segments === */
/* Segments are wedge-shaped slices on the ring's circumference */
.chakra-segment {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.chakra-segment::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 18%;
  height: 18%;
  background: radial-gradient(circle,
    rgba(150, 200, 255, 1) 0%,
    rgba(100, 150, 255, 0.95) 40%,
    rgba(80, 130, 220, 0.8) 70%,
    rgba(60, 110, 200, 0) 100%
  );
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(100, 150, 255, 0.9);
  transform: translate(-50%, -50%);
}

/* Brightness levels by layer */
.chakra-ring.layer-1 .chakra-segment {
  /* Brightest - highly saturated blue-white */
  opacity: 1;
  filter: brightness(1.3) drop-shadow(0 0 4px rgba(150, 180, 255, 0.8));
}

.chakra-ring.layer-2 .chakra-segment {
  /* Slightly darker - muted blue */
  opacity: 0.85;
  filter: brightness(1.0) drop-shadow(0 0 3px rgba(120, 160, 220, 0.6));
}

.chakra-ring.layer-3 .chakra-segment {
  /* Noticeably darker blue */
  opacity: 0.7;
  filter: brightness(0.8) drop-shadow(0 0 2px rgba(100, 140, 200, 0.4));
}

.chakra-ring.layer-4 .chakra-segment {
  /* Darkest blue, but will turn red when full */
  opacity: 0.6;
  filter: brightness(0.7) drop-shadow(0 0 2px rgba(80, 120, 180, 0.3));
}

/* Red ultimate-ready ring */
.chakra-ring.layer-ultimate .chakra-segment,
.chakra-ring.ultimate-ready .chakra-segment {
  background: linear-gradient(180deg,
    rgba(255, 100, 100, 1) 0%,
    rgba(220, 50, 50, 0.9) 50%,
    rgba(180, 30, 30, 0.8) 100%
  );
  box-shadow:
    0 0 6px rgba(255, 50, 50, 0.9),
    0 0 12px rgba(255, 50, 50, 0.5);
  filter: brightness(1.2) drop-shadow(0 0 4px rgba(255, 100, 100, 0.8));
  animation: ultimatePulse 0.5s ease-out;
}

@keyframes ultimatePulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* Segment positioning - evenly spaced on circumference like clock */
/* Position 0: 12 o'clock */
.chakra-segment[data-position="0"]::before { transform: translate(-50%, -50%) translateY(-140%); }
/* Position 1: 3 o'clock */
.chakra-segment[data-position="1"]::before { transform: translate(-50%, -50%) translateX(140%); }
/* Position 2: 6 o'clock */
.chakra-segment[data-position="2"]::before { transform: translate(-50%, -50%) translateY(140%); }
/* Position 3: 9 o'clock */
.chakra-segment[data-position="3"]::before { transform: translate(-50%, -50%) translateX(-140%); }

/* === Chakra Gain Animation (Simple Appear) === */
/* Segments simply appear/fade in, NO orbs or flying particles */

/* Segment arrival flare */
.chakra-segment.arriving {
  animation: segmentArrive 0.5s ease-out;
}

@keyframes segmentArrive {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  50% {
    transform: scale(1.4);
    filter: brightness(2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* === RED LIGHTNING EFFECT (Ultimate Double-Click) === */
.lightning-effect {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 180%;
  height: 180%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 200;
  animation: lightningRotate 0.6s ease-in-out;
}

@keyframes lightningRotate {
  0% { transform: translate(-50%, -50%) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translate(-50%, -50%) rotate(15deg); opacity: 1; }
}

.lightning-bolt {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 3px;
  height: 90%;
  transform-origin: center;
  filter: blur(0.5px);
}

/* Red lightning - intense, branching */
.lightning-effect.red .lightning-bolt {
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(255, 60, 60, 0.9) 5%,
    rgba(255, 40, 40, 1) 15%,
    rgba(255, 70, 70, 0.95) 30%,
    rgba(255, 50, 50, 1) 50%,
    rgba(255, 70, 70, 0.95) 70%,
    rgba(255, 40, 40, 1) 85%,
    rgba(255, 60, 60, 0.9) 95%,
    transparent 100%
  );
  box-shadow:
    0 0 4px rgba(255, 50, 50, 1),
    0 0 12px rgba(255, 50, 50, 0.7),
    0 0 20px rgba(255, 80, 80, 0.4);
  animation: redLightningFlow 0.5s ease-out;
}

.lightning-effect.red .lightning-bolt:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg); animation-delay: 0s; }
.lightning-effect.red .lightning-bolt:nth-child(2) { transform: translate(-50%, -50%) rotate(40deg); animation-delay: 0.05s; }
.lightning-effect.red .lightning-bolt:nth-child(3) { transform: translate(-50%, -50%) rotate(80deg); animation-delay: 0.1s; }
.lightning-effect.red .lightning-bolt:nth-child(4) { transform: translate(-50%, -50%) rotate(120deg); animation-delay: 0.15s; }
.lightning-effect.red .lightning-bolt:nth-child(5) { transform: translate(-50%, -50%) rotate(160deg); animation-delay: 0.2s; }
.lightning-effect.red .lightning-bolt:nth-child(6) { transform: translate(-50%, -50%) rotate(200deg); animation-delay: 0.05s; }
.lightning-effect.red .lightning-bolt:nth-child(7) { transform: translate(-50%, -50%) rotate(240deg); animation-delay: 0.1s; }
.lightning-effect.red .lightning-bolt:nth-child(8) { transform: translate(-50%, -50%) rotate(280deg); animation-delay: 0.15s; }
.lightning-effect.red .lightning-bolt:nth-child(9) { transform: translate(-50%, -50%) rotate(320deg); animation-delay: 0.2s; }

@keyframes redLightningFlow {
  0% { opacity: 0; height: 0%; }
  20% { opacity: 1; height: 40%; }
  40% { opacity: 0.6; height: 70%; }
  60% { opacity: 1; height: 90%; }
  80% { opacity: 0.7; }
  100% { opacity: 1; height: 90%; }
}

/* === GOLD LIGHTNING EFFECT (Secret Technique Triple-Click) === */
.lightning-effect.gold .lightning-bolt {
  width: 4px;
  height: 95%;
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(255, 215, 0, 0.8) 3%,
    rgba(255, 235, 120, 1) 10%,
    rgba(255, 245, 150, 0.95) 25%,
    rgba(255, 255, 220, 1) 40%,
    rgba(255, 255, 240, 1) 50%,
    rgba(255, 255, 220, 1) 60%,
    rgba(255, 245, 150, 0.95) 75%,
    rgba(255, 235, 120, 1) 90%,
    rgba(255, 215, 0, 0.8) 97%,
    transparent 100%
  );
  box-shadow:
    0 0 6px rgba(255, 255, 255, 1),
    0 0 16px rgba(255, 215, 0, 1),
    0 0 28px rgba(255, 215, 0, 0.7),
    0 0 42px rgba(255, 235, 120, 0.5);
  filter: blur(0.8px);
  animation: goldLightningFlow 0.8s ease-out;
}

.lightning-effect.gold .lightning-bolt:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg); animation-delay: 0s; }
.lightning-effect.gold .lightning-bolt:nth-child(2) { transform: translate(-50%, -50%) rotate(36deg); animation-delay: 0.06s; }
.lightning-effect.gold .lightning-bolt:nth-child(3) { transform: translate(-50%, -50%) rotate(72deg); animation-delay: 0.12s; }
.lightning-effect.gold .lightning-bolt:nth-child(4) { transform: translate(-50%, -50%) rotate(108deg); animation-delay: 0.18s; }
.lightning-effect.gold .lightning-bolt:nth-child(5) { transform: translate(-50%, -50%) rotate(144deg); animation-delay: 0.24s; }
.lightning-effect.gold .lightning-bolt:nth-child(6) { transform: translate(-50%, -50%) rotate(180deg); animation-delay: 0.3s; }
.lightning-effect.gold .lightning-bolt:nth-child(7) { transform: translate(-50%, -50%) rotate(216deg); animation-delay: 0.06s; }
.lightning-effect.gold .lightning-bolt:nth-child(8) { transform: translate(-50%, -50%) rotate(252deg); animation-delay: 0.12s; }
.lightning-effect.gold .lightning-bolt:nth-child(9) { transform: translate(-50%, -50%) rotate(288deg); animation-delay: 0.18s; }
.lightning-effect.gold .lightning-bolt:nth-child(10) { transform: translate(-50%, -50%) rotate(324deg); animation-delay: 0.24s; }

@keyframes goldLightningFlow {
  0% { opacity: 0; height: 0%; filter: blur(2px); }
  15% { opacity: 1; height: 30%; filter: blur(1px); }
  30% { opacity: 0.8; height: 60%; filter: blur(0.8px); }
  45% { opacity: 1; height: 85%; filter: blur(0.6px); }
  60% { opacity: 0.9; height: 95%; filter: blur(0.8px); }
  75% { opacity: 1; filter: blur(0.7px); }
  90% { opacity: 0.95; filter: blur(0.8px); }
  100% { opacity: 1; height: 95%; filter: blur(0.8px); }
}

/* Segment sizing is handled by the ::before pseudo-element above */

/* === Debug/Development Helper === */
.chakra-wheel.debug {
  outline: 1px dashed rgba(255, 0, 0, 0.3);
}

.chakra-ring.debug {
  outline: 1px dashed rgba(0, 255, 0, 0.3);
}
