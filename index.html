<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blazing — Manual Background Switch (Responsive)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/background.css" />
  <link rel="stylesheet" href="css/bottombar.css" /> <!-- ← ADD THIS LINE -->
</head>

<body>
  <!-- Default background -->
  <div id="full-bg" class="bg-1"></div>

  <!-- HUD Bottom Bar -->
  <!-- HUD Bottom Bar -->
<div class="bottom-bar">
  <div class="bottom-bar-content">
    <button class="hud-button" id="btn-summon" aria-label="Summon">
      <img src="assets/icons/summon_icon.png" alt="Summon">
    </button>
    <button class="hud-button" id="btn-missions" aria-label="Missions">
      <img src="assets/icons/missions_icon.png" alt="Missions">
    </button>
    <button class="hud-button" id="btn-characters" aria-label="Characters">
      <img src="assets/icons/characters_icon.png" alt="Characters">
    </button>
    <button class="hud-button" id="btn-teams" aria-label="Teams">
      <img src="assets/icons/teams_icon.png" alt="Teams">
    </button>
    <button class="hud-button" id="btn-addchar" aria-label="Add Character">
      <img src="assets/icons/add_icon.png" alt="Add Character">
    </button>
    <button class="hud-button" id="btn-settings" aria-label="Settings">
      <img src="assets/icons/settings_icon.png" alt="Settings">
    </button>
  </div>
</div>

   
  <!-- ✅ Scripts (order matters!) -->
  <script src="js/character_inv.js"></script> <!-- Must load first so addCharacterById exists -->

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const el = document.getElementById("full-bg");
      const total = 10;
      let current = 1;

      function updateBG(n) {
        for (let i = 1; i <= total; i++) el.classList.remove(`bg-${i}`);
        el.classList.add(`bg-${n}`);
      }

      // Manual toggle button (cycles backgrounds)
      document.getElementById("bg-toggle").addEventListener("click", () => {
        current = current < total ? current + 1 : 1;
        updateBG(current);
      });

      // Navigation buttons
      function navigateTo(url) {
        document.body.style.transition = "opacity 0.2s linear";
        document.body.style.opacity = "0";
        setTimeout(() => { window.location.href = url; }, 200);
      }

      document.getElementById("btn-summon")?.addEventListener("click", () => navigateTo("summon.html"));
      document.getElementById("btn-missions")?.addEventListener("click", () => navigateTo("missions.html"));
      document.getElementById("btn-characters")?.addEventListener("click", () => navigateTo("characters.html"));
      document.getElementById("btn-teams")?.addEventListener("click", () => navigateTo("teams.html"));

      // ✅ Add Character Button — works now since addCharacterById is defined
      document.getElementById("btn-addchar")?.addEventListener("click", () => {
        const id = prompt("Enter Character ID from characters.json (e.g. 'naruto_01')");
        if (id && typeof window.addCharacterById === "function") {
          window.addCharacterById(id.trim());
        } else {
          console.error("⚠️ addCharacterById not loaded yet — check script order");
          alert("The Add Character system isn't ready yet. Please reload the page.");
        }
      });
    });
  </script>
</body>
</html>
