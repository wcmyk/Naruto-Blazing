<style>
/* === Unit Ring Container (active) === */
.unit-ring {
  position: relative;
  width: 100px;
  height: 100px;
  cursor: pointer;
  object-fit: fill; 
  transition: transform 0.2s ease;
  display: inline-block;
}

.unit-ring:hover {
  transform: scale(1.05);
}

/* Bench units (50% scale) */
.bench-portrait-container .unit-ring {
  width: 70px;
  height: 70px;
}

/* =========================================
   PORTRAIT  (BOTTOM LAYER, z-index: 1)
   ========================================= */
.portrait {
    position: absolute;
    top: 30px;
    left: 25px;
    width: 100px;
    height: 98px;
    object-fit: cover;
    border-radius: 50%;
    clip-path: circle(50%);
    z-index: 1;
}

/* Bench portrait: perfectly centered in 70Ã—70 holder */
.bench-portrait-container .portrait {
  top: 3px;
  left: 3px;
  width: 64px;
  height: 64px;
}

/* =========================================
   CHAKRA CONTAINER (MIDDLE LAYER, z-index: 2)
   ========================================= */
.chakra-container {
    position: absolute;
    top: 11px;
    left: 30px;
    width: 90px;
    height: 100px;
    border-radius: 50%;
    clip-path: circle(50%);
    z-index: 11;
    pointer-events: none;
}

.bench-portrait-container .chakra-container {
  top: 3px;
  left: 3px;
  width: 64px;
  height: 64px;
}

/* Chakra segments (accumulate, do not rotate away previous ones) */
.chakra-segment {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  object-fit: contain;
  display: none; /* toggled by JS based on chakra state */
}

/* =========================================
   CHAKRA HOLDER FRAME (TOP LAYER, z-index: 10)
   ========================================= */
.chakra-frame {
    position: absolute;
    top: -70px;
    left: -68px;
    width: 300px !important;
    height: 300px !important;
    /* object-fit: fill !important; */
    pointer-events: none;
    z-index: 10;
}

/* Bench frame = 50% of active holder */
.bench-portrait-container .chakra-frame {
  width: 70px !important;
  height: 70px !important;
  object-fit: fill !important;
}

/* =========================================
   OPTIONAL STATES (unchanged)
   ========================================= */
.unit-ring.ultimate-ready .chakra-frame {
  filter: drop-shadow(0 0 8px rgba(255, 50, 50, 0.9))
          drop-shadow(0 0 16px rgba(255, 50, 50, 0.6));
  animation: ultimateReadyPulse 1s ease-in-out infinite;
}

@keyframes ultimateReadyPulse {
  0%, 100% {
    filter: drop-shadow(0 0 8px rgba(255, 50, 50, 0.9))
            drop-shadow(0 0 16px rgba(255, 50, 50, 0.6));
  }
  50% {
    filter: drop-shadow(0 0 12px rgba(255, 50, 50, 1))
            drop-shadow(0 0 24px rgba(255, 50, 50, 0.8));
  }
}

/* Debug helpers */
.unit-ring.debug { outline: 2px dashed rgba(255,0,0,0.4); }
.chakra-container.debug { outline: 1px dashed rgba(0,255,0,0.4); }
.portrait.debug { outline: 1px dashed rgba(0,0,255,0.4); }
</style>

<!-- ==========================================
     HTML STRUCTURE FOR ONE UNIT (ACTIVE)
     ========================================== -->

<div class="unit-ring">
  <!-- Character portrait (clipped circle) -->
  <img
    class="portrait"
    src="assets/characters/taki_mitsuha.png"
    alt="Taki & Mitsuha"
  />

  <!-- Chakra gauge (inside inner circle, above portrait) -->
  <div class="chakra-container">
    <!-- Use 1 or more segments; JS will toggle display -->
    <img
      class="chakra-segment"
      src="assets/ui/gauges/chakra.png"
      alt="Chakra gauge"
    />
  </div>

  <!-- Chakra holder ring (gold frame, always on top) -->
  <img
    class="chakra-frame"
    src="assets/ui/frames/chakraholder_icon.png"
    alt="Chakra frame"
  />
</div>

<!-- ==========================================
     HTML STRUCTURE FOR ONE BENCH UNIT
     ========================================== -->

<div class="bench-portrait-container">
  <div class="unit-ring">
    <img
      class="portrait"
      src="assets/characters/taki_mitsuha.png"
      alt="Taki & Mitsuha"
    />
    <div class="chakra-container">
      <img
        class="chakra-segment"
        src="assets/ui/gauges/chakra.png"
        alt="Chakra gauge"
      />
    </div>
    <img
      class="chakra-frame"
      src="assets/ui/frames/chakraholder_icon.png"
      alt="Chakra frame"
    />
  </div>
</div>
